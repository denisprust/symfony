(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["vehicles"],{

/***/ "./assets/js/vehicles/vehicles.js":
/*!****************************************!*\
  !*** ./assets/js/vehicles/vehicles.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! core-js/modules/es.array.find */ "./node_modules/core-js/modules/es.array.find.js");

__webpack_require__(/*! core-js/modules/es.object.to-string */ "./node_modules/core-js/modules/es.object.to-string.js");

__webpack_require__(/*! core-js/modules/es.promise */ "./node_modules/core-js/modules/es.promise.js");

__webpack_require__(/*! core-js/modules/es.promise.finally */ "./node_modules/core-js/modules/es.promise.finally.js");

var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");

var Swal = __webpack_require__(/*! sweetalert2 */ "./node_modules/sweetalert2/dist/sweetalert2.all.js");

Vehicles = {
  init: function init() {
    this.initMasks();
  },
  deleteVehicle: function deleteVehicle(elem) {
    Swal.fire({
      title: 'Atenção!',
      text: 'Tem certeza de que deseja excluir este veículo?',
      type: 'warning',
      showCancelButton: true,
      confirmButtonColor: '#d33',
      cancelButtonColor: '#3085d6',
      cancelButtonText: 'Cancelar',
      confirmButtonText: 'Sim'
    }).then(function (result) {
      if (result.value) {
        var params = {
          vehicle_id: $(elem).data('id')
        };
        $.ajax({
          url: '/vehicle/delete',
          method: 'delete',
          data: params,
          beforeSend: function beforeSend() {
            Swal.fire({
              title: 'Excluíndo veículo...'
            });
            Swal.showLoading();
          },
          success: function success(response) {
            if (response.success) {
              Swal.fire('', response.message, 'success')["finally"](function () {
                Swal.fire({
                  title: 'Carregando veículos...'
                });
                Swal.showLoading();
                window.location.reload();
              });
            } else {
              Swal.fire('Oops!', response.message, 'error');
            }
          },
          error: function error(response) {
            Swal.fire('Oops!', 'Ocorreu um erro ao excluir o carro', 'error');
          }
        });
      }
    });
  },
  openModalVehicle: function openModalVehicle() {
    $.ajax({
      url: '/vehicle/modal',
      method: 'post',
      beforeSend: function beforeSend() {
        $('div#modal-vehicle-content').html('');
        Swal.fire({
          title: 'Carregando Veículo...'
        });
        Swal.showLoading();
      },
      success: function success(response) {
        $('div#modal-vehicle-content').html(response);
        var modal = $('#modal-vehicle');
        Vehicles.initMasks();
        modal.modal('show');
        Swal.close();
      },
      error: function error(response) {
        Swal.fire('Oops!', 'Ocorreu um erro ao salvar o veículo', 'error');
      }
    });
  },
  clearInputsModal: function clearInputsModal(modal) {
    modal.find('input,select').val('');
    var inputs = modal.find('input[required], select[required]');
    $(inputs).css('border', '1px solid #ced4da');
  },
  saveVehicle: function saveVehicle(elem) {
    var modal = $(elem).closest('#modal-vehicle');
    var inputs = modal.find('input[required], select[required]');
    var count = 0;
    inputs.each(function (index, elem) {
      if (!$(elem).val()) {
        $(elem).css('border', '1px solid red');
        if (count === 0) $(elem).focus();
        ++count;
      } else {
        $(elem).css('border', '1px solid #ced4da');
      }
    });

    if (count > 0) {
      Swal.fire('Oops!', 'Por favor, informe todos os campos obrigatórios.', 'error');
      return;
    }

    var params = $('form#form-vehicle').serialize();
    $.ajax({
      url: '/vehicle/post',
      method: 'post',
      data: params,
      beforeSend: function beforeSend() {
        Swal.fire({
          title: 'Salvando veículo...'
        });
        Swal.showLoading();
      },
      success: function success(response) {
        if (response.success) {
          Swal.fire('', response.message, 'success')["finally"](function () {
            Swal.fire({
              title: 'Carregando veículos...'
            });
            Swal.showLoading();
            window.location.reload();
          });
        } else {
          Swal.fire('Oops!', response.message, 'error');
        }
      },
      error: function error(response) {
        Swal.fire('Oops!', 'Ocorreu um erro ao salvar o veículo', 'error');
      }
    });
  },
  editVehicle: function editVehicle(elem) {
    var params = {
      vehicle_id: $(elem).data('id')
    };
    $.ajax({
      url: '/vehicles/teste',
      method: 'post',
      data: params,
      beforeSend: function beforeSend() {
        $('div#modal-vehicle-content').html('');
        Swal.fire({
          title: 'Carregando veículo...'
        });
        Swal.showLoading();
      },
      success: function success(response) {
        $('div#modal-vehicle-content').html(response);
        $('#modal-vehicle').modal('show');
        Swal.close();
        Vehicles.initMasks();
      }
    });
  },
  initMasks: function initMasks() {
    $('.money').mask('000.000.000.000.000,00', {
      reverse: true
    });
    $('[name=year],[name=model_year]').mask('0000');
  }
};

/***/ })

},[["./assets/js/vehicles/vehicles.js","runtime","vendors~app~home~mask~vehicles","vendors~app~home~vehicles","vendors~vehicles"]]]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvanMvdmVoaWNsZXMvdmVoaWNsZXMuanMiXSwibmFtZXMiOlsiJCIsInJlcXVpcmUiLCJTd2FsIiwiVmVoaWNsZXMiLCJpbml0IiwiaW5pdE1hc2tzIiwiZGVsZXRlVmVoaWNsZSIsImVsZW0iLCJmaXJlIiwidGl0bGUiLCJ0ZXh0IiwidHlwZSIsInNob3dDYW5jZWxCdXR0b24iLCJjb25maXJtQnV0dG9uQ29sb3IiLCJjYW5jZWxCdXR0b25Db2xvciIsImNhbmNlbEJ1dHRvblRleHQiLCJjb25maXJtQnV0dG9uVGV4dCIsInRoZW4iLCJyZXN1bHQiLCJ2YWx1ZSIsInBhcmFtcyIsInZlaGljbGVfaWQiLCJkYXRhIiwiYWpheCIsInVybCIsIm1ldGhvZCIsImJlZm9yZVNlbmQiLCJzaG93TG9hZGluZyIsInN1Y2Nlc3MiLCJyZXNwb25zZSIsIm1lc3NhZ2UiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsImVycm9yIiwib3Blbk1vZGFsVmVoaWNsZSIsImh0bWwiLCJtb2RhbCIsImNsb3NlIiwiY2xlYXJJbnB1dHNNb2RhbCIsImZpbmQiLCJ2YWwiLCJpbnB1dHMiLCJjc3MiLCJzYXZlVmVoaWNsZSIsImNsb3Nlc3QiLCJjb3VudCIsImVhY2giLCJpbmRleCIsImZvY3VzIiwic2VyaWFsaXplIiwiZWRpdFZlaGljbGUiLCJtYXNrIiwicmV2ZXJzZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFNQSxDQUFDLEdBQUdDLG1CQUFPLENBQUMsb0RBQUQsQ0FBakI7O0FBQ0EsSUFBTUMsSUFBSSxHQUFHRCxtQkFBTyxDQUFDLHVFQUFELENBQXBCOztBQUVBRSxRQUFRLEdBQUc7QUFDUEMsTUFBSSxFQUFFLGdCQUFZO0FBQ2QsU0FBS0MsU0FBTDtBQUNILEdBSE07QUFJUEMsZUFBYSxFQUFFLHVCQUFVQyxJQUFWLEVBQWdCO0FBQzNCTCxRQUFJLENBQUNNLElBQUwsQ0FBVTtBQUNOQyxXQUFLLEVBQUUsVUFERDtBQUVOQyxVQUFJLEVBQUUsaURBRkE7QUFHTkMsVUFBSSxFQUFFLFNBSEE7QUFJTkMsc0JBQWdCLEVBQUUsSUFKWjtBQUtOQyx3QkFBa0IsRUFBRSxNQUxkO0FBTU5DLHVCQUFpQixFQUFFLFNBTmI7QUFPTkMsc0JBQWdCLEVBQUUsVUFQWjtBQVFOQyx1QkFBaUIsRUFBRTtBQVJiLEtBQVYsRUFTR0MsSUFUSCxDQVNRLFVBQUNDLE1BQUQsRUFBWTtBQUNoQixVQUFJQSxNQUFNLENBQUNDLEtBQVgsRUFBa0I7QUFDZCxZQUFJQyxNQUFNLEdBQUc7QUFDVEMsb0JBQVUsRUFBRXJCLENBQUMsQ0FBQ08sSUFBRCxDQUFELENBQVFlLElBQVIsQ0FBYSxJQUFiO0FBREgsU0FBYjtBQUlBdEIsU0FBQyxDQUFDdUIsSUFBRixDQUFPO0FBQ0hDLGFBQUcsRUFBRSxpQkFERjtBQUVIQyxnQkFBTSxFQUFFLFFBRkw7QUFHSEgsY0FBSSxFQUFFRixNQUhIO0FBSUhNLG9CQUFVLEVBQUUsc0JBQVc7QUFDbkJ4QixnQkFBSSxDQUFDTSxJQUFMLENBQVU7QUFDTkMsbUJBQUssRUFBRTtBQURELGFBQVY7QUFHQVAsZ0JBQUksQ0FBQ3lCLFdBQUw7QUFDSCxXQVRFO0FBVUhDLGlCQUFPLEVBQUUsaUJBQVVDLFFBQVYsRUFBb0I7QUFDekIsZ0JBQUdBLFFBQVEsQ0FBQ0QsT0FBWixFQUFxQjtBQUNqQjFCLGtCQUFJLENBQUNNLElBQUwsQ0FBVSxFQUFWLEVBQWFxQixRQUFRLENBQUNDLE9BQXRCLEVBQThCLFNBQTlCLGFBQWlELFlBQVk7QUFDekQ1QixvQkFBSSxDQUFDTSxJQUFMLENBQVU7QUFDTkMsdUJBQUssRUFBRTtBQURELGlCQUFWO0FBR0FQLG9CQUFJLENBQUN5QixXQUFMO0FBQ0FJLHNCQUFNLENBQUNDLFFBQVAsQ0FBZ0JDLE1BQWhCO0FBQ0gsZUFORDtBQU9ILGFBUkQsTUFRTztBQUNIL0Isa0JBQUksQ0FBQ00sSUFBTCxDQUFVLE9BQVYsRUFBa0JxQixRQUFRLENBQUNDLE9BQTNCLEVBQW1DLE9BQW5DO0FBQ0g7QUFDSixXQXRCRTtBQXVCSEksZUFBSyxFQUFFLGVBQVVMLFFBQVYsRUFBb0I7QUFDdkIzQixnQkFBSSxDQUFDTSxJQUFMLENBQVUsT0FBVixFQUFrQixvQ0FBbEIsRUFBdUQsT0FBdkQ7QUFDSDtBQXpCRSxTQUFQO0FBMkJIO0FBQ0osS0EzQ0Q7QUE0Q0gsR0FqRE07QUFrRFAyQixrQkFBZ0IsRUFBRSw0QkFBWTtBQUMxQm5DLEtBQUMsQ0FBQ3VCLElBQUYsQ0FBTztBQUNIQyxTQUFHLEVBQUUsZ0JBREY7QUFFSEMsWUFBTSxFQUFFLE1BRkw7QUFHSEMsZ0JBQVUsRUFBRSxzQkFBVztBQUNuQjFCLFNBQUMsQ0FBQywyQkFBRCxDQUFELENBQStCb0MsSUFBL0IsQ0FBb0MsRUFBcEM7QUFDQWxDLFlBQUksQ0FBQ00sSUFBTCxDQUFVO0FBQ05DLGVBQUssRUFBRTtBQURELFNBQVY7QUFHQVAsWUFBSSxDQUFDeUIsV0FBTDtBQUNILE9BVEU7QUFVSEMsYUFBTyxFQUFFLGlCQUFVQyxRQUFWLEVBQW9CO0FBQ3pCN0IsU0FBQyxDQUFDLDJCQUFELENBQUQsQ0FBK0JvQyxJQUEvQixDQUFvQ1AsUUFBcEM7QUFDQSxZQUFJUSxLQUFLLEdBQUdyQyxDQUFDLENBQUMsZ0JBQUQsQ0FBYjtBQUNBRyxnQkFBUSxDQUFDRSxTQUFUO0FBQ0FnQyxhQUFLLENBQUNBLEtBQU4sQ0FBWSxNQUFaO0FBQ0FuQyxZQUFJLENBQUNvQyxLQUFMO0FBQ0gsT0FoQkU7QUFpQkhKLFdBQUssRUFBRSxlQUFVTCxRQUFWLEVBQW9CO0FBQ3ZCM0IsWUFBSSxDQUFDTSxJQUFMLENBQVUsT0FBVixFQUFrQixxQ0FBbEIsRUFBd0QsT0FBeEQ7QUFDSDtBQW5CRSxLQUFQO0FBcUJILEdBeEVNO0FBeUVQK0Isa0JBQWdCLEVBQUUsMEJBQVVGLEtBQVYsRUFBaUI7QUFDL0JBLFNBQUssQ0FBQ0csSUFBTixDQUFXLGNBQVgsRUFBMkJDLEdBQTNCLENBQStCLEVBQS9CO0FBQ0EsUUFBSUMsTUFBTSxHQUFHTCxLQUFLLENBQUNHLElBQU4sQ0FBVyxtQ0FBWCxDQUFiO0FBQ0F4QyxLQUFDLENBQUMwQyxNQUFELENBQUQsQ0FBVUMsR0FBVixDQUFjLFFBQWQsRUFBd0IsbUJBQXhCO0FBQ0gsR0E3RU07QUE4RVBDLGFBQVcsRUFBRSxxQkFBVXJDLElBQVYsRUFBZ0I7QUFDekIsUUFBSThCLEtBQUssR0FBSXJDLENBQUMsQ0FBQ08sSUFBRCxDQUFELENBQVFzQyxPQUFSLENBQWdCLGdCQUFoQixDQUFiO0FBQ0EsUUFBSUgsTUFBTSxHQUFHTCxLQUFLLENBQUNHLElBQU4sQ0FBVyxtQ0FBWCxDQUFiO0FBQ0EsUUFBSU0sS0FBSyxHQUFHLENBQVo7QUFFQUosVUFBTSxDQUFDSyxJQUFQLENBQVksVUFBVUMsS0FBVixFQUFpQnpDLElBQWpCLEVBQXVCO0FBQy9CLFVBQUcsQ0FBQ1AsQ0FBQyxDQUFDTyxJQUFELENBQUQsQ0FBUWtDLEdBQVIsRUFBSixFQUFtQjtBQUNmekMsU0FBQyxDQUFDTyxJQUFELENBQUQsQ0FBUW9DLEdBQVIsQ0FBWSxRQUFaLEVBQXNCLGVBQXRCO0FBQ0EsWUFBR0csS0FBSyxLQUFLLENBQWIsRUFDSTlDLENBQUMsQ0FBQ08sSUFBRCxDQUFELENBQVEwQyxLQUFSO0FBQ0osVUFBRUgsS0FBRjtBQUNILE9BTEQsTUFLTztBQUNIOUMsU0FBQyxDQUFDTyxJQUFELENBQUQsQ0FBUW9DLEdBQVIsQ0FBWSxRQUFaLEVBQXNCLG1CQUF0QjtBQUNIO0FBQ0osS0FURDs7QUFXQSxRQUFHRyxLQUFLLEdBQUcsQ0FBWCxFQUFjO0FBQ1Y1QyxVQUFJLENBQUNNLElBQUwsQ0FDSSxPQURKLEVBRUksa0RBRkosRUFHSSxPQUhKO0FBS0E7QUFDSDs7QUFDRCxRQUFJWSxNQUFNLEdBQUdwQixDQUFDLENBQUMsbUJBQUQsQ0FBRCxDQUF1QmtELFNBQXZCLEVBQWI7QUFFQWxELEtBQUMsQ0FBQ3VCLElBQUYsQ0FBTztBQUNIQyxTQUFHLEVBQUUsZUFERjtBQUVIQyxZQUFNLEVBQUUsTUFGTDtBQUdISCxVQUFJLEVBQUVGLE1BSEg7QUFJSE0sZ0JBQVUsRUFBRSxzQkFBVztBQUNuQnhCLFlBQUksQ0FBQ00sSUFBTCxDQUFVO0FBQ05DLGVBQUssRUFBRTtBQURELFNBQVY7QUFHQVAsWUFBSSxDQUFDeUIsV0FBTDtBQUNILE9BVEU7QUFVSEMsYUFBTyxFQUFFLGlCQUFVQyxRQUFWLEVBQW9CO0FBQ3pCLFlBQUdBLFFBQVEsQ0FBQ0QsT0FBWixFQUFxQjtBQUNqQjFCLGNBQUksQ0FBQ00sSUFBTCxDQUFVLEVBQVYsRUFBYXFCLFFBQVEsQ0FBQ0MsT0FBdEIsRUFBOEIsU0FBOUIsYUFBaUQsWUFBWTtBQUN6RDVCLGdCQUFJLENBQUNNLElBQUwsQ0FBVTtBQUNOQyxtQkFBSyxFQUFFO0FBREQsYUFBVjtBQUdBUCxnQkFBSSxDQUFDeUIsV0FBTDtBQUNBSSxrQkFBTSxDQUFDQyxRQUFQLENBQWdCQyxNQUFoQjtBQUNILFdBTkQ7QUFPSCxTQVJELE1BUU87QUFDSC9CLGNBQUksQ0FBQ00sSUFBTCxDQUFVLE9BQVYsRUFBa0JxQixRQUFRLENBQUNDLE9BQTNCLEVBQW1DLE9BQW5DO0FBQ0g7QUFDSixPQXRCRTtBQXVCSEksV0FBSyxFQUFFLGVBQVVMLFFBQVYsRUFBb0I7QUFDdkIzQixZQUFJLENBQUNNLElBQUwsQ0FBVSxPQUFWLEVBQWtCLHFDQUFsQixFQUF3RCxPQUF4RDtBQUNIO0FBekJFLEtBQVA7QUEyQkgsR0FuSU07QUFvSVAyQyxhQUFXLEVBQUUscUJBQVU1QyxJQUFWLEVBQWdCO0FBQ3pCLFFBQUlhLE1BQU0sR0FBRztBQUFDQyxnQkFBVSxFQUFFckIsQ0FBQyxDQUFDTyxJQUFELENBQUQsQ0FBUWUsSUFBUixDQUFhLElBQWI7QUFBYixLQUFiO0FBRUF0QixLQUFDLENBQUN1QixJQUFGLENBQU87QUFDSEMsU0FBRyxFQUFFLGlCQURGO0FBRUhDLFlBQU0sRUFBRSxNQUZMO0FBR0hILFVBQUksRUFBRUYsTUFISDtBQUlITSxnQkFBVSxFQUFFLHNCQUFXO0FBQ25CMUIsU0FBQyxDQUFDLDJCQUFELENBQUQsQ0FBK0JvQyxJQUEvQixDQUFvQyxFQUFwQztBQUVBbEMsWUFBSSxDQUFDTSxJQUFMLENBQVU7QUFDTkMsZUFBSyxFQUFFO0FBREQsU0FBVjtBQUdBUCxZQUFJLENBQUN5QixXQUFMO0FBQ0gsT0FYRTtBQVlIQyxhQUFPLEVBQUUsaUJBQVVDLFFBQVYsRUFBb0I7QUFDekI3QixTQUFDLENBQUMsMkJBQUQsQ0FBRCxDQUErQm9DLElBQS9CLENBQW9DUCxRQUFwQztBQUNBN0IsU0FBQyxDQUFDLGdCQUFELENBQUQsQ0FBb0JxQyxLQUFwQixDQUEwQixNQUExQjtBQUNBbkMsWUFBSSxDQUFDb0MsS0FBTDtBQUNBbkMsZ0JBQVEsQ0FBQ0UsU0FBVDtBQUNIO0FBakJFLEtBQVA7QUFtQkgsR0ExSk07QUEySlBBLFdBQVMsRUFBRSxxQkFBWTtBQUNuQkwsS0FBQyxDQUFDLFFBQUQsQ0FBRCxDQUFZb0QsSUFBWixDQUFpQix3QkFBakIsRUFBMkM7QUFBQ0MsYUFBTyxFQUFFO0FBQVYsS0FBM0M7QUFDQXJELEtBQUMsQ0FBQywrQkFBRCxDQUFELENBQW1Db0QsSUFBbkMsQ0FBd0MsTUFBeEM7QUFDSDtBQTlKTSxDQUFYLEMiLCJmaWxlIjoidmVoaWNsZXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XHJcbmNvbnN0IFN3YWwgPSByZXF1aXJlKCdzd2VldGFsZXJ0MicpO1xyXG5cclxuVmVoaWNsZXMgPSB7XHJcbiAgICBpbml0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5pbml0TWFza3MoKVxyXG4gICAgfSxcclxuICAgIGRlbGV0ZVZlaGljbGU6IGZ1bmN0aW9uIChlbGVtKSB7XHJcbiAgICAgICAgU3dhbC5maXJlKHtcclxuICAgICAgICAgICAgdGl0bGU6ICdBdGVuw6fDo28hJyxcclxuICAgICAgICAgICAgdGV4dDogJ1RlbSBjZXJ0ZXphIGRlIHF1ZSBkZXNlamEgZXhjbHVpciBlc3RlIHZlw61jdWxvPycsXHJcbiAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJyxcclxuICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAnI2QzMycsXHJcbiAgICAgICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAnIzMwODVkNicsXHJcbiAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICdDYW5jZWxhcicsXHJcbiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnU2ltJ1xyXG4gICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGFyYW1zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHZlaGljbGVfaWQ6ICQoZWxlbSkuZGF0YSgnaWQnKVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogJy92ZWhpY2xlL2RlbGV0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnZGVsZXRlJyxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBwYXJhbXMsXHJcbiAgICAgICAgICAgICAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0V4Y2x1w61uZG8gdmXDrWN1bG8uLi4nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTd2FsLnNob3dMb2FkaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzcG9uc2Uuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKCcnLHJlc3BvbnNlLm1lc3NhZ2UsJ3N1Y2Nlc3MnKS5maW5hbGx5KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0NhcnJlZ2FuZG8gdmXDrWN1bG9zLi4uJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN3YWwuc2hvd0xvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgnT29wcyEnLHJlc3BvbnNlLm1lc3NhZ2UsJ2Vycm9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKCdPb3BzIScsJ09jb3JyZXUgdW0gZXJybyBhbyBleGNsdWlyIG8gY2Fycm8nLCdlcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICBvcGVuTW9kYWxWZWhpY2xlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdXJsOiAnL3ZlaGljbGUvbW9kYWwnLFxyXG4gICAgICAgICAgICBtZXRob2Q6ICdwb3N0JyxcclxuICAgICAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAkKCdkaXYjbW9kYWwtdmVoaWNsZS1jb250ZW50JykuaHRtbCgnJyk7XHJcbiAgICAgICAgICAgICAgICBTd2FsLmZpcmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnQ2FycmVnYW5kbyBWZcOtY3Vsby4uLidcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgU3dhbC5zaG93TG9hZGluZygpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICQoJ2RpdiNtb2RhbC12ZWhpY2xlLWNvbnRlbnQnKS5odG1sKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIGxldCBtb2RhbCA9ICQoJyNtb2RhbC12ZWhpY2xlJyk7XHJcbiAgICAgICAgICAgICAgICBWZWhpY2xlcy5pbml0TWFza3MoKTtcclxuICAgICAgICAgICAgICAgIG1vZGFsLm1vZGFsKCdzaG93Jyk7XHJcbiAgICAgICAgICAgICAgICBTd2FsLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgnT29wcyEnLCdPY29ycmV1IHVtIGVycm8gYW8gc2FsdmFyIG8gdmXDrWN1bG8nLCdlcnJvcicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgY2xlYXJJbnB1dHNNb2RhbDogZnVuY3Rpb24gKG1vZGFsKSB7XHJcbiAgICAgICAgbW9kYWwuZmluZCgnaW5wdXQsc2VsZWN0JykudmFsKCcnKTtcclxuICAgICAgICB2YXIgaW5wdXRzID0gbW9kYWwuZmluZCgnaW5wdXRbcmVxdWlyZWRdLCBzZWxlY3RbcmVxdWlyZWRdJyk7XHJcbiAgICAgICAgJChpbnB1dHMpLmNzcygnYm9yZGVyJywgJzFweCBzb2xpZCAjY2VkNGRhJyk7XHJcbiAgICB9LFxyXG4gICAgc2F2ZVZlaGljbGU6IGZ1bmN0aW9uIChlbGVtKSB7XHJcbiAgICAgICAgdmFyIG1vZGFsICA9ICQoZWxlbSkuY2xvc2VzdCgnI21vZGFsLXZlaGljbGUnKTtcclxuICAgICAgICBsZXQgaW5wdXRzID0gbW9kYWwuZmluZCgnaW5wdXRbcmVxdWlyZWRdLCBzZWxlY3RbcmVxdWlyZWRdJyk7XHJcbiAgICAgICAgdmFyIGNvdW50ID0gMDtcclxuXHJcbiAgICAgICAgaW5wdXRzLmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtKSB7XHJcbiAgICAgICAgICAgIGlmKCEkKGVsZW0pLnZhbCgpKSB7XHJcbiAgICAgICAgICAgICAgICAkKGVsZW0pLmNzcygnYm9yZGVyJywgJzFweCBzb2xpZCByZWQnKTtcclxuICAgICAgICAgICAgICAgIGlmKGNvdW50ID09PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgICQoZWxlbSkuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICsrY291bnQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKGVsZW0pLmNzcygnYm9yZGVyJywgJzFweCBzb2xpZCAjY2VkNGRhJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYoY291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgIFN3YWwuZmlyZShcclxuICAgICAgICAgICAgICAgICdPb3BzIScsXHJcbiAgICAgICAgICAgICAgICAnUG9yIGZhdm9yLCBpbmZvcm1lIHRvZG9zIG9zIGNhbXBvcyBvYnJpZ2F0w7NyaW9zLicsXHJcbiAgICAgICAgICAgICAgICAnZXJyb3InXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHBhcmFtcyA9ICQoJ2Zvcm0jZm9ybS12ZWhpY2xlJykuc2VyaWFsaXplKCk7XHJcblxyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogJy92ZWhpY2xlL3Bvc3QnLFxyXG4gICAgICAgICAgICBtZXRob2Q6ICdwb3N0JyxcclxuICAgICAgICAgICAgZGF0YTogcGFyYW1zLFxyXG4gICAgICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdTYWx2YW5kbyB2ZcOtY3Vsby4uLidcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgU3dhbC5zaG93TG9hZGluZygpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoJycscmVzcG9uc2UubWVzc2FnZSwnc3VjY2VzcycpLmZpbmFsbHkoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdDYXJyZWdhbmRvIHZlw61jdWxvcy4uLidcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFN3YWwuc2hvd0xvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoJ09vcHMhJyxyZXNwb25zZS5tZXNzYWdlLCdlcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBTd2FsLmZpcmUoJ09vcHMhJywnT2NvcnJldSB1bSBlcnJvIGFvIHNhbHZhciBvIHZlw61jdWxvJywnZXJyb3InKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG4gICAgZWRpdFZlaGljbGU6IGZ1bmN0aW9uIChlbGVtKSB7XHJcbiAgICAgICAgbGV0IHBhcmFtcyA9IHt2ZWhpY2xlX2lkOiAkKGVsZW0pLmRhdGEoJ2lkJyl9O1xyXG5cclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB1cmw6ICcvdmVoaWNsZXMvdGVzdGUnLFxyXG4gICAgICAgICAgICBtZXRob2Q6ICdwb3N0JyxcclxuICAgICAgICAgICAgZGF0YTogcGFyYW1zLFxyXG4gICAgICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICQoJ2RpdiNtb2RhbC12ZWhpY2xlLWNvbnRlbnQnKS5odG1sKCcnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBTd2FsLmZpcmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnQ2FycmVnYW5kbyB2ZcOtY3Vsby4uLidcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgU3dhbC5zaG93TG9hZGluZygpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICQoJ2RpdiNtb2RhbC12ZWhpY2xlLWNvbnRlbnQnKS5odG1sKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICQoJyNtb2RhbC12ZWhpY2xlJykubW9kYWwoJ3Nob3cnKTtcclxuICAgICAgICAgICAgICAgIFN3YWwuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIFZlaGljbGVzLmluaXRNYXNrcygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0sXHJcbiAgICBpbml0TWFza3M6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKCcubW9uZXknKS5tYXNrKCcwMDAuMDAwLjAwMC4wMDAuMDAwLDAwJywge3JldmVyc2U6IHRydWV9KTtcclxuICAgICAgICAkKCdbbmFtZT15ZWFyXSxbbmFtZT1tb2RlbF95ZWFyXScpLm1hc2soJzAwMDAnKTtcclxuICAgIH1cclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==